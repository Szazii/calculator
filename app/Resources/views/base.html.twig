<!DOCTYPE html>
<html lang="pl">
    <head>
        <title>Strona główna</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script>
            $(document).ready(function(){
                $("button").click(function(){

                    var buttonId = "#"+$(this).attr('id');
                    var oldValue = $('.operation').val();
                    if ($(buttonId).val() !== "submit"){
                        //var buttonIds = "#"+buttonId
                        //$('.operation').val( $(buttonIds).val() );
                        if ($(buttonId).val() === ""){
                            $('.operation').val("");
                        }else if ($(buttonId).val() === "X"){
                            $('.operation').val( oldValue.slice(0,-1) );
                        }
                        else {
                            /*if (oldValue.slice(-1).contains("+-")){
                                oldValue = oldValue.slice(0,-1);
                            }*/
                            var lastChar = oldValue.slice(-1);
                            var currentChar = $(buttonId).val();
                            var specialChar = "/*-+.%";
                            var percentageOperation = lastChar == "%" && currentChar == "*";
                            if (specialChar.indexOf(lastChar) !== -1 && specialChar.indexOf(currentChar) !== -1 && !percentageOperation){
                                oldValue = oldValue.slice(0, oldValue[oldValue.length-2] == "%" && lastChar == "*" ? -2 : -1);
                            }
                            $('.operation').val( oldValue + $(buttonId).val() );

                        }
                    }

                    //$('.operation').val( $(buttonId).val() );
                    //$('.operation').val( $(buttonId).val() );
                });
            });
        </script>
    </head>
    <body>


        <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>



        <header class="jumbotron bg-dark text-white" style="margin: 0; padding: 0; height: 200px">

            <div class="row" style="margin: 0; height: 200px" >
                <div class="col-2" style=" padding: 0">
                    <img class="img-responsive" src="https://i.imgur.com/6q1eCxa.jpg" alt="calculator" style="position: relative; height: 200px; width: 100%">
                </div>
                <div class="col-10 text-center">
                    <h1 class="card-title">Kalkulator</h1>
                    <p class="card-text">Wykonuje proste działania matematyczne.</p>
                </div>
            </div>
        </header>


        <div class="row" style="margin: 0;" >
            <nav class="nav flex-column col-2 bg-secondary text-white" style="height:1000px; margin: 0; padding: 0">
                <a class="nav-link bg-dark active" href="{{ path('homepage') }}">Strona główna</a>
                <a class="nav-link bg-dark" href="{{ path('calculator') }}">Kalkulator</a>
                <a class="nav-link bg-dark" href="{{ path('contact') }}">Kontakt</a>

            </nav>
            <div class="col-10" style="background-image: url(https://i.imgur.com/VKTPd2M.jpg); color: white">
                {% block body %}{% endblock %}
            </div>

        </div>




        <footer class="page-footer font-small bg-dark text-white pt-4" style="bottom: 0; position: fixed; width: 100%">

            <div class="footer-copyright text-center py-3">© 2019 Copyright:
                <a href="{{ path('homepage') }}"> Kalkulator</a>
            </div>

        </footer>




    </body>
</html>
